<header class="text-gray-600 body-font">
  <div class="container mx-auto flex flex-wrap flex-col p-5 md:flex-row items-start justify-between">
    <div class="flex justify-between items-center w-full md:w-1/5">
      <%= link_to "KURAKAN", "/", { class: 'title-font font-medium text-gray-900 text-xl' } %>

      <% if user_signed_in? %>
        <button class="cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block md:hidden outline-none focus:outline-none" type="button" onclick="isOpened(event)">
          <span class="block relative w-6 h-px rounded-sm bg-black"></span>
          <span class="block relative w-6 h-px rounded-sm bg-black mt-1"></span>
          <span class="block relative w-6 h-px rounded-sm bg-black mt-1"></span>
        </button>
      <% end %>
    </div>
    <nav id="nav" class="md:ml-auto flex flex-wrap flex-col-reverse md:flex-row items-start md:items-center text-base hidden md:flex">
      <% if user_signed_in? %>
        <%= link_to 'アカウント設定', edit_user_registration_path, class: "mt-2 lg:mt-0" %>
        <%= link_to 'ログアウト', destroy_user_session_path, method: :delete, class: "md:ml-2 mt-2 lg:mt-0" %>
        <a href="/circles" class="hover:text-gray-900 md:ml-2 mt-2 lg:mt-0">
          <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
        </a>
        <%= link_to user_path(current_user), class: "md:ml-2 mt-2 lg:mt-0 hover:text-gray-900" do %>
          <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
        <% end %>
      <% else %>
        <%= link_to 'サインアップ', new_user_registration_path %>
        <%= link_to 'ログイン', new_user_session_path, { class: "ml-3" } %>
      <% end %>
    </nav>
  </div>
</header>

<script>
  function isOpened(event){
    const nav = document.getElementById("nav");
    if (nav.classList.contains('hidden')) {
      nav.classList.remove("hidden")
    } else {
      nav.classList.add("hidden")
    }
  }
</script>